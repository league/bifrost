
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>10. Block Library Reference &#8212; bifrost 0.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11. Python Reference" href="bifrost.html" />
    <link rel="prev" title="9. Common Installation and Execution Problems" href="Common-installation-and-execution-problems.html" />
   
  <link rel="stylesheet" href="static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="block-library-reference">
<h1><span class="section-number">10. </span>Block Library Reference<a class="headerlink" href="#block-library-reference" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2><span class="section-number">10.1. </span>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-bifrost.blocks.accumulate">
<span id="bifrost-blocks-accumulate-module"></span><h2><span class="section-number">10.2. </span>bifrost.blocks.accumulate module<a class="headerlink" href="#module-bifrost.blocks.accumulate" title="Permalink to this headline">¶</a></h2>
<p>A simple block that accepts 1 frame at a time and accumulates them
nframe times before outputting the accumulated result.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.AccumulateBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">AccumulateBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/accumulate.html#AccumulateBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.accumulate.AccumulateBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.AccumulateBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/accumulate.html#AccumulateBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.accumulate.AccumulateBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for each input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.AccumulateBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/accumulate.html#AccumulateBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.accumulate.AccumulateBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.AccumulateBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/accumulate.html#AccumulateBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.accumulate.AccumulateBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.accumulate">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/accumulate.html#accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.accumulate.accumulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulate <cite>nframe</cite> frames of data, one at a time, before outputting.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.iring">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">iring</span></span><a class="headerlink" href="#bifrost.blocks.accumulate.iring" title="Permalink to this definition">¶</a></dt>
<dd><p>Input data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring">Ring</a> or <a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block">Block</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.nframe">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">nframe</span></span><a class="headerlink" href="#bifrost.blocks.accumulate.nframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to accumulate before outputting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.dtype">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#bifrost.blocks.accumulate.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Output datatype. If None, input datatype is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">\*args</span></span></dt>
<dd><p>Arguments to <cite>bifrost.pipeline.TransformBlock</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">\*\*kwargs</span></span></dt>
<dd><p>Keyword Arguments to <cite>bifrost.pipeline.TransformBlock</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Tensor</span> <span class="pre">semantics</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">----------------</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.Input">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">Input</span></span><a class="headerlink" href="#bifrost.blocks.accumulate.Input" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>[…, ‘time’, …], dtype = any, space = CUDA</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.accumulate.Output">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.accumulate.</span></span><span class="sig-name descname"><span class="pre">Output</span></span><a class="headerlink" href="#bifrost.blocks.accumulate.Output" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>[…, ‘time’/nframe, …], dtype = any, space = CUDA</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>AccumulateBlock</cite></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="bifrost-blocks-audio-module">
<h2><span class="section-number">10.3. </span>bifrost.blocks.audio module<a class="headerlink" href="#bifrost-blocks-audio-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-bifrost.blocks.binary_io">
<span id="bifrost-blocks-binary-io-module"></span><h2><span class="section-number">10.4. </span>bifrost.blocks.binary_io module<a class="headerlink" href="#module-bifrost.blocks.binary_io" title="Permalink to this headline">¶</a></h2>
<p># binary_file_io.py</p>
<p>Basic file I/O blocks for reading and writing data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileRead">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.binary_io.</span></span><span class="sig-name descname"><span class="pre">BinaryFileRead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileRead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileRead" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple file-like reading object for pipeline testing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Name of file to open</p></li>
<li><p><strong>dtype</strong> (<em>np.dtype</em><em> or </em><em>str</em>) – datatype of data, e.g. float32. This should be a <em>numpy</em> dtype,
not a bifrost.ndarray dtype (eg. float32, not f32)</p></li>
<li><p><strong>gulp_size</strong> (<em>int</em>) – How much data to read per gulp, (i.e. sub-array size)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileRead.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileRead.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileRead.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileRead.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileRead.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileRead.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileReadBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.binary_io.</span></span><span class="sig-name descname"><span class="pre">BinaryFileReadBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileReadBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileReadBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SourceBlock" title="bifrost.pipeline.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileReadBlock.create_reader">
<span class="sig-name descname"><span class="pre">create_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileReadBlock.create_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileReadBlock.create_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object to use for reading source data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileReadBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileReadBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileReadBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process data from from ispans to ospans and return the number of
frames to commit for each output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileReadBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ireader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileReadBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileReadBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return header for each output</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileWriteBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.binary_io.</span></span><span class="sig-name descname"><span class="pre">BinaryFileWriteBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'out'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileWriteBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileWriteBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SinkBlock" title="bifrost.pipeline.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileWriteBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileWriteBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileWriteBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.BinaryFileWriteBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#BinaryFileWriteBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.BinaryFileWriteBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return islice or None to use simple striding</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.binary_read">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.binary_io.</span></span><span class="sig-name descname"><span class="pre">binary_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#binary_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.binary_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Block for reading binary data from file and streaming it into a bifrost pipeline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>list</em>) – A list of filenames to open</p></li>
<li><p><strong>gulp_size</strong> (<em>int</em>) – Number of elements in a gulp (i.e. sub-array size)</p></li>
<li><p><strong>gulp_nframe</strong> (<em>int</em>) – Number of frames in a gulp. (Ask Ben / Miles for good explanation)</p></li>
<li><p><strong>dtype</strong> (<em>bifrost dtype string</em>) – dtype, e.g. f32, cf32</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.binary_io.binary_write">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.binary_io.</span></span><span class="sig-name descname"><span class="pre">binary_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'out'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/binary_io.html#binary_write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.binary_io.binary_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write ring data to a binary file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_ext</strong> (<em>str</em>) – Output file extension. Defaults to ‘.out’</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>output filename is generated from the header ‘name’ keyword + file_ext</p>
</dd></dl>

</section>
<section id="module-bifrost.blocks.convert_visibilities">
<span id="bifrost-blocks-convert-visibilities-module"></span><h2><span class="section-number">10.5. </span>bifrost.blocks.convert_visibilities module<a class="headerlink" href="#module-bifrost.blocks.convert_visibilities" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.convert_visibilities.</span></span><span class="sig-name descname"><span class="pre">ConvertVisibilitiesBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/convert_visibilities.html#ConvertVisibilitiesBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/convert_visibilities.html#ConvertVisibilitiesBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/convert_visibilities.html#ConvertVisibilitiesBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/convert_visibilities.html#ConvertVisibilitiesBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.convert_visibilities.convert_visibilities">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.convert_visibilities.</span></span><span class="sig-name descname"><span class="pre">convert_visibilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/convert_visibilities.html#convert_visibilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.convert_visibilities.convert_visibilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert visibility data to a new format.</p>
<dl class="simple">
<dt>Supported values of ‘fmt’ are:</dt><dd><p>matrix, storage</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – The desired output format: matrix, storage.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;station_i&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_i&#39;</span><span class="p">,</span> <span class="s1">&#39;station_j&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_j&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;matrix&#39;</span> <span class="p">(</span><span class="n">produces</span> <span class="n">a</span> <span class="n">fully</span><span class="o">-</span><span class="n">filled</span> <span class="n">matrix</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">lower</span><span class="o">-</span><span class="n">filled</span> <span class="n">one</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;station_i&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_i&#39;</span><span class="p">,</span> <span class="s1">&#39;station_j&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_j&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;storage&#39;</span> <span class="p">(</span><span class="n">suitable</span> <span class="k">for</span> <span class="n">common</span> <span class="n">on</span><span class="o">-</span><span class="n">disk</span> <span class="n">data</span> <span class="n">formats</span> <span class="n">such</span> <span class="k">as</span> <span class="n">UVFITS</span><span class="p">,</span> <span class="n">FITS</span><span class="o">-</span><span class="n">IDI</span><span class="p">,</span> <span class="n">MS</span> <span class="n">etc</span><span class="o">.</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;baseline&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;stokes&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;baseline&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;stokes&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;matrix&#39;</span> <span class="p">(</span><span class="n">fully</span><span class="o">-</span><span class="n">filled</span> <span class="n">matrix</span> <span class="n">suitable</span> <span class="k">for</span> <span class="n">linear</span> <span class="n">algebra</span> <span class="n">operations</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;station_i&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_i&#39;</span><span class="p">,</span> <span class="s1">&#39;station_j&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_j&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock" title="bifrost.blocks.convert_visibilities.ConvertVisibilitiesBlock">ConvertVisibilitiesBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.copy">
<span id="bifrost-blocks-copy-module"></span><h2><span class="section-number">10.6. </span>bifrost.blocks.copy module<a class="headerlink" href="#module-bifrost.blocks.copy" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.copy.CopyBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.copy.</span></span><span class="sig-name descname"><span class="pre">CopyBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/copy.html#CopyBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.copy.CopyBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.copy.CopyBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/copy.html#CopyBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.copy.CopyBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.copy.CopyBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/copy.html#CopyBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.copy.CopyBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.copy.copy">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.copy.</span></span><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/copy.html#copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.copy.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy data, possibly to another space.</p>
<dl class="simple">
<dt>Use this block to copy data between different</dt><dd><p>spaces, such as from system memory to GPU memory.
The output header for this block is identical
to the input header.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>space</strong> (<em>str</em>) – Output data space (e.g., ‘cuda’ or ‘system’).
Default space is same as input.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>*kwargs</strong> – Keyword arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new block instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#bifrost.blocks.copy.CopyBlock" title="bifrost.blocks.copy.CopyBlock">CopyBlock</a></p>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="nb">any</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">same</span> <span class="k">as</span> <span class="nb">input</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="nb">any</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-bifrost.blocks.correlate">
<span id="bifrost-blocks-correlate-module"></span><h2><span class="section-number">10.7. </span>bifrost.blocks.correlate module<a class="headerlink" href="#module-bifrost.blocks.correlate" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.correlate.CorrelateBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.correlate.</span></span><span class="sig-name descname"><span class="pre">CorrelateBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nframe_per_integration</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/correlate.html#CorrelateBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.correlate.CorrelateBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.correlate.CorrelateBlock.define_output_nframes">
<span class="sig-name descname"><span class="pre">define_output_nframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_nframe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/correlate.html#CorrelateBlock.define_output_nframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.correlate.CorrelateBlock.define_output_nframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return output nframe, given input_nframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.correlate.CorrelateBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/correlate.html#CorrelateBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.correlate.CorrelateBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.correlate.CorrelateBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/correlate.html#CorrelateBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.correlate.CorrelateBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.correlate.CorrelateBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/correlate.html#CorrelateBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.correlate.CorrelateBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.correlate.correlate">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.correlate.</span></span><span class="sig-name descname"><span class="pre">correlate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nframe_per_integration</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/correlate.html#correlate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.correlate.correlate" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-multiply different stations and accumulate in time</p>
<p>This is the X step of an FX correlator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>nframe_per_integration</strong> (<em>int</em>) – No. frames to integrate before
producing an output frame of visibilities.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;station&#39;</span><span class="p">,</span> <span class="s1">&#39;pol&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;station_i&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_i&#39;</span><span class="p">,</span> <span class="s1">&#39;station_j&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_j&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">lower</span> <span class="n">triangle</span> <span class="n">filled</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">cf32</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.correlate.CorrelateBlock" title="bifrost.blocks.correlate.CorrelateBlock">CorrelateBlock</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p>This block is backed by a fast GPU kernel based on the one in the xGPU
library; see <a class="footnote-reference brackets" href="#id2" id="id1">2</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">2</a></span></dt>
<dd><p>M. A. Clark, P. C. La Plante, and L. J. Greenhill,
“Accelerating Radio Astronomy Cross-Correlation with Graphics
Processing units”, [arXiv:1107.4264 [astro-ph]].</p>
</dd>
</dl>
<p><a class="reference external" href="https://github.com/GPU-correlators/xGPU">https://github.com/GPU-correlators/xGPU</a></p>
</dd></dl>

</section>
<section id="module-bifrost.blocks.detect">
<span id="bifrost-blocks-detect-module"></span><h2><span class="section-number">10.8. </span>bifrost.blocks.detect module<a class="headerlink" href="#module-bifrost.blocks.detect" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.detect.DetectBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.detect.</span></span><span class="sig-name descname"><span class="pre">DetectBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/detect.html#DetectBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.detect.DetectBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.detect.DetectBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/detect.html#DetectBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.detect.DetectBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for each input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.detect.DetectBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/detect.html#DetectBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.detect.DetectBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.detect.DetectBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/detect.html#DetectBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.detect.DetectBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.detect.detect">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.detect.</span></span><span class="sig-name descname"><span class="pre">detect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/detect.html#detect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.detect.detect" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply square-law detection to create polarization products.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>mode</strong> (<em>string</em>) – <p><code class="docutils literal notranslate"><span class="pre">'scalar':</span> <span class="pre">x</span>&#160;&#160; <span class="pre">-&gt;</span> <span class="pre">real</span> <span class="pre">x.x*</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">'jones':</span>&#160; <span class="pre">x,y</span> <span class="pre">-&gt;</span> <span class="pre">complex</span> <span class="pre">x.x*</span> <span class="pre">+</span> <span class="pre">1j*y.y*,</span> <span class="pre">x.y*</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">'stokes':</span> <span class="pre">x,y</span> <span class="pre">-&gt;</span> <span class="pre">real</span> <span class="pre">I,</span> <span class="pre">Q,</span> <span class="pre">U,</span> <span class="pre">V</span></code></p>
</p></li>
<li><p><strong>axis</strong> – Integer or string specifying the polarization axis. Defaults to
‘pol’. Not used if mode = ‘scalar’.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">real</span> <span class="ow">or</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.detect.DetectBlock" title="bifrost.blocks.detect.DetectBlock">DetectBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.fdmt">
<span id="bifrost-blocks-fdmt-module"></span><h2><span class="section-number">10.9. </span>bifrost.blocks.fdmt module<a class="headerlink" href="#module-bifrost.blocks.fdmt" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.fdmt.FdmtBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.fdmt.</span></span><span class="sig-name descname"><span class="pre">FdmtBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_diagonal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_delays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fdmt.html#FdmtBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fdmt.FdmtBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fdmt.FdmtBlock.define_input_overlap_nframe">
<span class="sig-name descname"><span class="pre">define_input_overlap_nframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fdmt.html#FdmtBlock.define_input_overlap_nframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fdmt.FdmtBlock.define_input_overlap_nframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return no. input frames that should overlap between successive spans.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fdmt.FdmtBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fdmt.html#FdmtBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fdmt.FdmtBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fdmt.FdmtBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fdmt.html#FdmtBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fdmt.FdmtBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fdmt.FdmtBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fdmt.html#FdmtBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fdmt.FdmtBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.fdmt.fdmt">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.fdmt.</span></span><span class="sig-name descname"><span class="pre">fdmt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_diagonal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_delays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fdmt.html#fdmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fdmt.fdmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the Fast Dispersion Measure Transform (FDMT).</p>
<p>This uses the GPU. It is used in pulsar and fast radio burst (FRB)
search pipelines for dedispersing channelised data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>max_dm</strong> (<em>float</em>) – Max dispersion measure to search up to
(in units of pc/cm^3).</p></li>
<li><p><strong>max_delay</strong> (<em>int</em>) – Max dispersion delay across the band to search
up to (in units of time samples).</p></li>
<li><p><strong>max_diagonal</strong> (<em>float</em>) – Max dispersion delay across the band to
search up to (in units of the number of frequency channels).</p></li>
<li><p><strong>exponent</strong> (<em>float</em>) – Frequency power law to search
(-2.0 for interstellar dispersion).</p></li>
<li><p><strong>negative_delays</strong> (<em>bool</em>) – If True, the transform applies dispersions
in the range (-max_dm, 0] instead of [0, max_dm).</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span>       <span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="n">real</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="s1">&#39;dispersion&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">f32</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.fdmt.FdmtBlock" title="bifrost.blocks.fdmt.FdmtBlock">FdmtBlock</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p>This is based on Barak Zackay’s FDMT algorithm, see <a class="footnote-reference brackets" href="#id4" id="id3">1</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>Zackay, Barak, and Eran O. Ofek. “An accurate
and efficient algorithm for detection of radio bursts
with an unknown dispersion measure, for single dish
telescopes and interferometers.” arXiv preprint arXiv:1411.5373
(2014).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one of max_dm, max_delay, or max_diagonal may be specified.
In the case of <code class="docutils literal notranslate"><span class="pre">max_dm</span></code>, the number of dispersion measure trials
(delays) computed by this algorithm depends on the value of <code class="docutils literal notranslate"><span class="pre">max_dm</span></code>
and the time and frequency scales of the input data. The
<code class="docutils literal notranslate"><span class="pre">bifrost.blocks.print_header</span></code> block can be used to check the
output dimensions if needed.</p>
</div>
</dd></dl>

</section>
<section id="module-bifrost.blocks.fft">
<span id="bifrost-blocks-fft-module"></span><h2><span class="section-number">10.10. </span>bifrost.blocks.fft module<a class="headerlink" href="#module-bifrost.blocks.fft" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.fft.FftBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.fft.</span></span><span class="sig-name descname"><span class="pre">FftBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">real_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_fftshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fft.html#FftBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fft.FftBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fft.FftBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fft.html#FftBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fft.FftBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fft.FftBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fft.html#FftBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fft.FftBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fft.FftBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fft.html#FftBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fft.FftBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.fft.fft">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.fft.</span></span><span class="sig-name descname"><span class="pre">fft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">real_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_fftshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fft.html#fft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fft.fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a GPU FFT to the input ring data.</p>
<p>This block produces an N-dimensional FFT of the input data stream. The
transform can be over any set of dimensions except the frame (time)
dimension. Transforms over the frame dimension can be achieved by
first reshaping the input data stream using bifrost.views.split_axis.</p>
<p>Axis scales are automatically updated to reflect the Fourier-transformed
axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>axes</strong> (<em>list</em>) – List of integers or strings indicating axes to be transformed.</p></li>
<li><p><strong>inverse</strong> (<em>bool</em>) – If True, the inverse Fourier transform is applied.</p></li>
<li><p><strong>real_output</strong> (<em>bool</em>) – If True, a complex-to-real inverse Fourier
transform is applied (input data must be complex).</p></li>
<li><p><strong>axis_labels</strong> (<em>list</em>) – A list of strings specifying a new label to give
each transformed axis. If None, the output labels are copied from
the input labels.</p></li>
<li><p><strong>apply_fftshift</strong> (<em>bool</em>) – If True, the zero-frequency component is shifted
to the center of the spectrum. For forward (inverse) transforms,
this is equivalent to a positive (negative) cyclic shift of each
output (input) axis by <code class="docutils literal notranslate"><span class="pre">floor(axis_length</span> <span class="pre">/</span> <span class="pre">2)</span></code>.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="n">real</span> <span class="ow">or</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="p">[</span><span class="n">f32</span><span class="p">,</span> <span class="n">cf32</span><span class="p">,</span> <span class="n">f64</span><span class="p">,</span> <span class="ow">or</span> <span class="n">cf64</span><span class="p">],</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.fft.FftBlock" title="bifrost.blocks.fft.FftBlock">FftBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.fftshift">
<span id="bifrost-blocks-fftshift-module"></span><h2><span class="section-number">10.11. </span>bifrost.blocks.fftshift module<a class="headerlink" href="#module-bifrost.blocks.fftshift" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.fftshift.FftShiftBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.fftshift.</span></span><span class="sig-name descname"><span class="pre">FftShiftBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fftshift.html#FftShiftBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fftshift.FftShiftBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fftshift.FftShiftBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fftshift.html#FftShiftBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fftshift.FftShiftBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fftshift.FftShiftBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fftshift.html#FftShiftBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fftshift.FftShiftBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.fftshift.FftShiftBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fftshift.html#FftShiftBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fftshift.FftShiftBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.fftshift.fftshift">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.fftshift.</span></span><span class="sig-name descname"><span class="pre">fftshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/fftshift.html#fftshift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.fftshift.fftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an FFT shift to data along specified axes.</p>
<p>This operation shifts the data of an array so the central element
is moved to the start of the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>axes</strong> – (List of) strings or integers specifying axes to shift.</p></li>
<li><p><strong>inverse</strong> (<em>bool</em>) – If True, axes are shifted in the reverse direction.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.fftshift.FftShiftBlock" title="bifrost.blocks.fftshift.FftShiftBlock">FftShiftBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.guppi_raw">
<span id="bifrost-blocks-guppi-raw-module"></span><h2><span class="section-number">10.12. </span>bifrost.blocks.guppi_raw module<a class="headerlink" href="#module-bifrost.blocks.guppi_raw" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.guppi_raw.GuppiRawSourceBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.guppi_raw.</span></span><span class="sig-name descname"><span class="pre">GuppiRawSourceBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/guppi_raw.html#GuppiRawSourceBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.guppi_raw.GuppiRawSourceBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SourceBlock" title="bifrost.pipeline.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.guppi_raw.GuppiRawSourceBlock.create_reader">
<span class="sig-name descname"><span class="pre">create_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/guppi_raw.html#GuppiRawSourceBlock.create_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.guppi_raw.GuppiRawSourceBlock.create_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object to use for reading source data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.guppi_raw.GuppiRawSourceBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/guppi_raw.html#GuppiRawSourceBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.guppi_raw.GuppiRawSourceBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process data from from ispans to ospans and return the number of
frames to commit for each output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.guppi_raw.GuppiRawSourceBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/guppi_raw.html#GuppiRawSourceBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.guppi_raw.GuppiRawSourceBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return header for each output</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.guppi_raw.read_guppi_raw">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.guppi_raw.</span></span><span class="sig-name descname"><span class="pre">read_guppi_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/guppi_raw.html#read_guppi_raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.guppi_raw.read_guppi_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a GUPPI format raw data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>list</em>) – List of strings containing filenames.</p></li>
<li><p><strong>gulp_nframe</strong> (<em>int</em>) – No. frames (aka. blocks) to process at a time.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;fine_time&#39;</span><span class="p">,</span> <span class="s1">&#39;pol&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">ci</span><span class="o">*</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.guppi_raw.GuppiRawSourceBlock" title="bifrost.blocks.guppi_raw.GuppiRawSourceBlock">GuppiRawSourceBlock</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/UCBerkeleySETI/breakthrough/blob/master/doc/RAW-File-Format.md">https://github.com/UCBerkeleySETI/breakthrough/blob/master/doc/RAW-File-Format.md</a></p>
</dd></dl>

</section>
<section id="module-bifrost.blocks.print_header">
<span id="bifrost-blocks-print-header-module"></span><h2><span class="section-number">10.13. </span>bifrost.blocks.print_header module<a class="headerlink" href="#module-bifrost.blocks.print_header" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.PrintHeaderBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.print_header.</span></span><span class="sig-name descname"><span class="pre">PrintHeaderBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/print_header.html#PrintHeaderBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.print_header.PrintHeaderBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SinkBlock" title="bifrost.pipeline.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.PrintHeaderBlock.lock">
<span class="sig-name descname"><span class="pre">lock</span></span><em class="property"> <span class="pre">=</span> <span class="pre">&lt;unlocked</span> <span class="pre">_thread.lock</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#bifrost.blocks.print_header.PrintHeaderBlock.lock" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.PrintHeaderBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/print_header.html#PrintHeaderBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.print_header.PrintHeaderBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.PrintHeaderBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/print_header.html#PrintHeaderBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.print_header.PrintHeaderBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return islice or None to use simple striding</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.PrintHeaderBlock.on_sequence_end">
<span class="sig-name descname"><span class="pre">on_sequence_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/print_header.html#PrintHeaderBlock.on_sequence_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.print_header.PrintHeaderBlock.on_sequence_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Do any necessary cleanup</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.print_header">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.print_header.</span></span><span class="sig-name descname"><span class="pre">print_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/print_header.html#print_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.print_header.print_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out the header of each new sequence of a ring.</p>
<p>Use this for testing purposes to have a quick look
at the contents of a ring when you are unsure. This
is done using the simple python <cite>print</cite> statement,
without any modification to the dictionary.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.print_header.iring">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.print_header.</span></span><span class="sig-name descname"><span class="pre">iring</span></span><a class="headerlink" href="#bifrost.blocks.print_header.iring" title="Permalink to this definition">¶</a></dt>
<dd><p>A derivative of a Block object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block">Block</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">\*args</span></span></dt>
<dd><p>Arguments to <cite>bifrost.pipeline.TransformBlock</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">\*\*kwargs</span></span></dt>
<dd><p>Keyword Arguments to <cite>bifrost.pipeline.TransformBlock</cite>.</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>PrintHeaderBlock</cite></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="bifrost-blocks-psrdada-module">
<h2><span class="section-number">10.14. </span>bifrost.blocks.psrdada module<a class="headerlink" href="#bifrost-blocks-psrdada-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-bifrost.blocks.quantize">
<span id="bifrost-blocks-quantize-module"></span><h2><span class="section-number">10.15. </span>bifrost.blocks.quantize module<a class="headerlink" href="#module-bifrost.blocks.quantize" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.quantize.QuantizeBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.quantize.</span></span><span class="sig-name descname"><span class="pre">QuantizeBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/quantize.html#QuantizeBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.quantize.QuantizeBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.quantize.QuantizeBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/quantize.html#QuantizeBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.quantize.QuantizeBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for each input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.quantize.QuantizeBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/quantize.html#QuantizeBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.quantize.QuantizeBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.quantize.QuantizeBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/quantize.html#QuantizeBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.quantize.QuantizeBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.quantize.quantize">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.quantize.</span></span><span class="sig-name descname"><span class="pre">quantize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/quantize.html#quantize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.quantize.quantize" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a requantization of bit depth for the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>dtype</strong> – Output data type or number of bits.</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Scale factor to apply before quantizing.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="n">f32</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="p">(</span><span class="nb">complex</span><span class="p">)</span> <span class="n">integer</span> <span class="nb">type</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.quantize.QuantizeBlock" title="bifrost.blocks.quantize.QuantizeBlock">QuantizeBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.reduce">
<span id="bifrost-blocks-reduce-module"></span><h2><span class="section-number">10.16. </span>bifrost.blocks.reduce module<a class="headerlink" href="#module-bifrost.blocks.reduce" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.reduce.ReduceBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.reduce.</span></span><span class="sig-name descname"><span class="pre">ReduceBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sum'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reduce.html#ReduceBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reduce.ReduceBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reduce.ReduceBlock.define_output_nframes">
<span class="sig-name descname"><span class="pre">define_output_nframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_nframe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reduce.html#ReduceBlock.define_output_nframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reduce.ReduceBlock.define_output_nframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of frames that will be produced given input_nframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reduce.ReduceBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reduce.html#ReduceBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reduce.ReduceBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reduce.ReduceBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reduce.html#ReduceBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reduce.ReduceBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reduce.ReduceBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reduce.html#ReduceBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reduce.ReduceBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.reduce.reduce">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.reduce.</span></span><span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sum'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reduce.html#reduce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reduce.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce data along an axis by factor using op.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em> or </em><em>str</em>) – The axis to reduce. Can be an integer index
or a string label.</p></li>
<li><p><strong>factor</strong> (<em>int</em>) – The factor by which the axis should be reduced.
If None, the whole axis is reduced. Must divide
the size of the axis (or the gulp_size in the case
where the axis is the frame axis).</p></li>
<li><p><strong>op</strong> (<em>str</em>) – The operation with which the data should be reduced.
One of: sum, mean, min, max, stderr [stderr=sum/sqrt(n)],
pwrsum [magnitude squared sum], pwrmean, pwrmin, pwrmax,
or pwrstderr.  Note:  min and max are not supported for
complex valued data.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">op</span> <span class="o">=</span> <span class="nb">any</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">N</span> <span class="o">/</span> <span class="n">factor</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">f32</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">op</span> <span class="o">=</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;stderr&#39;</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">N</span> <span class="o">/</span> <span class="n">factor</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">cf32</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">op</span> <span class="o">=</span> <span class="s1">&#39;pwrsum&#39;</span><span class="p">,</span> <span class="s1">&#39;pwrmean&#39;</span><span class="p">,</span> <span class="s1">&#39;pwrmin&#39;</span><span class="p">,</span> <span class="s1">&#39;pwrmax&#39;</span><span class="p">,</span> <span class="s1">&#39;pwrstderr&#39;</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">N</span> <span class="o">/</span> <span class="n">factor</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">f32</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.reduce.ReduceBlock" title="bifrost.blocks.reduce.ReduceBlock">ReduceBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.reverse">
<span id="bifrost-blocks-reverse-module"></span><h2><span class="section-number">10.17. </span>bifrost.blocks.reverse module<a class="headerlink" href="#module-bifrost.blocks.reverse" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.reverse.ReverseBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.reverse.</span></span><span class="sig-name descname"><span class="pre">ReverseBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reverse.html#ReverseBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reverse.ReverseBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reverse.ReverseBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reverse.html#ReverseBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reverse.ReverseBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for the input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reverse.ReverseBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reverse.html#ReverseBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reverse.ReverseBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.reverse.ReverseBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reverse.html#ReverseBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reverse.ReverseBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.reverse.reverse">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.reverse.</span></span><span class="sig-name descname"><span class="pre">reverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/reverse.html#reverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.reverse.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse data along an axis or set of axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>axes</strong> – (List of) strings or integers specifying axes to reverse.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">CUDA</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.reverse.ReverseBlock" title="bifrost.blocks.reverse.ReverseBlock">ReverseBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.scrunch">
<span id="bifrost-blocks-scrunch-module"></span><h2><span class="section-number">10.18. </span>bifrost.blocks.scrunch module<a class="headerlink" href="#module-bifrost.blocks.scrunch" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.ScrunchBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.scrunch.</span></span><span class="sig-name descname"><span class="pre">ScrunchBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/scrunch.html#ScrunchBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.scrunch.ScrunchBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.ScrunchBlock.define_output_nframes">
<span class="sig-name descname"><span class="pre">define_output_nframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_nframe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/scrunch.html#ScrunchBlock.define_output_nframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.scrunch.ScrunchBlock.define_output_nframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return output nframe for each output, given input_nframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.ScrunchBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/scrunch.html#ScrunchBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.scrunch.ScrunchBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for each input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.ScrunchBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/scrunch.html#ScrunchBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.scrunch.ScrunchBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.ScrunchBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/scrunch.html#ScrunchBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.scrunch.ScrunchBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.scrunch">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.scrunch.</span></span><span class="sig-name descname"><span class="pre">scrunch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/scrunch.html#scrunch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.scrunch.scrunch" title="Permalink to this definition">¶</a></dt>
<dd><p>Average <cite>factor</cite> incoming frames into one output frame.</p>
<p>This works on system memory.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.iring">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.scrunch.</span></span><span class="sig-name descname"><span class="pre">iring</span></span><a class="headerlink" href="#bifrost.blocks.scrunch.iring" title="Permalink to this definition">¶</a></dt>
<dd><p>A derivative of a Block object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block">Block</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bifrost.blocks.scrunch.factor">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.scrunch.</span></span><span class="sig-name descname"><span class="pre">factor</span></span><a class="headerlink" href="#bifrost.blocks.scrunch.factor" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of input frames to accumulate.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">\*args</span></span></dt>
<dd><p>Arguments to <cite>bifrost.pipeline.TransformBlock</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">\*\*kwargs</span></span></dt>
<dd><p>Keyword Arguments to <cite>bifrost.pipeline.TransformBlock</cite>.</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>ScrunchBlock</cite></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.serialize">
<span id="bifrost-blocks-serialize-module"></span><h2><span class="section-number">10.19. </span>bifrost.blocks.serialize module<a class="headerlink" href="#module-bifrost.blocks.serialize" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.BifrostReader">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.serialize.</span></span><span class="sig-name descname"><span class="pre">BifrostReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#BifrostReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.BifrostReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.BifrostReader.readinto">
<span class="sig-name descname"><span class="pre">readinto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_nbyte</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#BifrostReader.readinto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.BifrostReader.readinto" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.DeserializeBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.serialize.</span></span><span class="sig-name descname"><span class="pre">DeserializeBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#DeserializeBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.DeserializeBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SourceBlock" title="bifrost.pipeline.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.DeserializeBlock.create_reader">
<span class="sig-name descname"><span class="pre">create_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#DeserializeBlock.create_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.DeserializeBlock.create_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object to use for reading source data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.DeserializeBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#DeserializeBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.DeserializeBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process data from from ispans to ospans and return the number of
frames to commit for each output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.DeserializeBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ireader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#DeserializeBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.DeserializeBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return header for each output</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.SerializeBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.serialize.</span></span><span class="sig-name descname"><span class="pre">SerializeBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_file_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#SerializeBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.SerializeBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SinkBlock" title="bifrost.pipeline.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.SerializeBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#SerializeBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.SerializeBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.SerializeBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#SerializeBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.SerializeBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return islice or None to use simple striding</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.SerializeBlock.on_sequence_end">
<span class="sig-name descname"><span class="pre">on_sequence_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#SerializeBlock.on_sequence_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.SerializeBlock.on_sequence_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Do any necessary cleanup</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.deserialize">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.serialize.</span></span><span class="sig-name descname"><span class="pre">deserialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#deserialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes a data stream from a set of files using a simple data format</p>
<p>Sequence headers are read as JSON files, and sequence data are read
directly as binary from separate files.</p>
<p>The actual header and data files must have the following general form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Header</span>
<span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;.</span><span class="n">json</span>

<span class="c1"># Single-ringlet data</span>
<span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;.&lt;</span><span class="n">frame_offset</span><span class="o">&gt;.</span><span class="n">dat</span>

<span class="c1"># Multi-ringlet data</span>
<span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;.&lt;</span><span class="n">frame_offset</span><span class="o">&gt;.&lt;</span><span class="n">ringlet</span><span class="o">&gt;.</span><span class="n">dat</span>
</pre></div>
</div>
<p>See also: <code class="docutils literal notranslate"><span class="pre">serialize</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>list</em>) – List of input filenames (each ending with ‘.bf’)</p></li>
<li><p><strong>gulp_nframe</strong> (<em>int</em>) – No. frames to read at a time.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="n">One</span> <span class="n">data</span> <span class="n">file</span> <span class="n">per</span> <span class="n">sequence</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="n">frame</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>

<span class="n">Input</span><span class="p">:</span>  <span class="n">One</span> <span class="n">data</span> <span class="n">file</span> <span class="n">per</span> <span class="n">ringlet</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="n">ringlet</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.serialize.DeserializeBlock" title="bifrost.blocks.serialize.DeserializeBlock">DeserializeBlock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.serialize.serialize">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.serialize.</span></span><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_file_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/serialize.html#serialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.serialize.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes a data stream to a set of files using a simple data format</p>
<p>Sequence headers are written as JSON files, and sequence data are written
directly as binary to separate files.</p>
<p>Filenames begin with the sequence name if present, or the time tag if not.
The general form is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Header</span>
<span class="o">&lt;</span><span class="n">name_or_time_tag</span><span class="o">&gt;.</span><span class="n">bf</span><span class="o">.</span><span class="n">json</span>

<span class="c1"># Single-ringlet data</span>
<span class="o">&lt;</span><span class="n">name_or_time_tag</span><span class="o">&gt;.</span><span class="n">bf</span><span class="o">.&lt;</span><span class="n">frame_offset</span><span class="o">&gt;.</span><span class="n">dat</span>

<span class="c1"># Multi-ringlet data</span>
<span class="o">&lt;</span><span class="n">name_or_time_tag</span><span class="o">&gt;.</span><span class="n">bf</span><span class="o">.&lt;</span><span class="n">frame_offset</span><span class="o">&gt;.&lt;</span><span class="n">ringlet</span><span class="o">&gt;.</span><span class="n">dat</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.o</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path specifying where to write output files.</p></li>
<li><p><strong>max_file_size</strong> (<em>int</em>) – Max no. bytes to write to a single file. If set to
-1, no limit is applied.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">frame</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">One</span> <span class="n">data</span> <span class="n">file</span> <span class="n">per</span> <span class="n">sequence</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">ringlet</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">One</span> <span class="n">data</span> <span class="n">file</span> <span class="n">per</span> <span class="n">ringlet</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.serialize.SerializeBlock" title="bifrost.blocks.serialize.SerializeBlock">SerializeBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.sigproc">
<span id="bifrost-blocks-sigproc-module"></span><h2><span class="section-number">10.20. </span>bifrost.blocks.sigproc module<a class="headerlink" href="#module-bifrost.blocks.sigproc" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSinkBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.sigproc.</span></span><span class="sig-name descname"><span class="pre">SigprocSinkBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSinkBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSinkBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SinkBlock" title="bifrost.pipeline.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSinkBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSinkBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSinkBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSinkBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSinkBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSinkBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return islice or None to use simple striding</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSinkBlock.on_sequence_end">
<span class="sig-name descname"><span class="pre">on_sequence_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSinkBlock.on_sequence_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSinkBlock.on_sequence_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Do any necessary cleanup</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSourceBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.sigproc.</span></span><span class="sig-name descname"><span class="pre">SigprocSourceBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSourceBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSourceBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SourceBlock" title="bifrost.pipeline.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSourceBlock.create_reader">
<span class="sig-name descname"><span class="pre">create_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSourceBlock.create_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSourceBlock.create_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object to use for reading source data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSourceBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSourceBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSourceBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process data from from ispans to ospans and return the number of
frames to commit for each output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.SigprocSourceBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ireader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#SigprocSourceBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.SigprocSourceBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return header for each output</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.read_sigproc">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.sigproc.</span></span><span class="sig-name descname"><span class="pre">read_sigproc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#read_sigproc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.read_sigproc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read SIGPROC data files.</p>
<p>Capable of reading filterbank, time series, and dedispersed subband data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> (<em>list</em>) – List of input filenames.</p></li>
<li><p><strong>gulp_nframe</strong> (<em>int</em>) – No. frames to read at a time.</p></li>
<li><p><strong>unpack</strong> (<em>bool</em>) – If True, 1-4 bit data are unpacked to 8 bits.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="s1">&#39;freq&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">u</span><span class="o">/</span><span class="n">i</span><span class="o">*</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.sigproc.SigprocSourceBlock" title="bifrost.blocks.sigproc.SigprocSourceBlock">SigprocSourceBlock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.sigproc.write_sigproc">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.sigproc.</span></span><span class="sig-name descname"><span class="pre">write_sigproc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/sigproc.html#write_sigproc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.sigproc.write_sigproc" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as Sigproc files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path specifying where to write output files.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">time</span><span class="p">,</span> <span class="n">pol</span><span class="p">,</span> <span class="n">freq</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Filterbank</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">sequence</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">beam</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">pol</span><span class="p">,</span> <span class="n">freq</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Filterbank</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">beam</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">time</span><span class="p">,</span> <span class="n">pol</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Time</span> <span class="n">series</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">sequence</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">dispersion</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">pol</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Time</span> <span class="n">series</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">dispersion</span> <span class="n">measure</span> <span class="n">trial</span>

<span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="n">pol</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">phase</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Pulse</span> <span class="n">profile</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">frame</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.sigproc.SigprocSinkBlock" title="bifrost.blocks.sigproc.SigprocSinkBlock">SigprocSinkBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.transpose">
<span id="bifrost-blocks-transpose-module"></span><h2><span class="section-number">10.21. </span>bifrost.blocks.transpose module<a class="headerlink" href="#module-bifrost.blocks.transpose" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.transpose.TransposeBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.transpose.</span></span><span class="sig-name descname"><span class="pre">TransposeBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/transpose.html#TransposeBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.transpose.TransposeBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.transpose.TransposeBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/transpose.html#TransposeBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.transpose.TransposeBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.transpose.TransposeBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/transpose.html#TransposeBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.transpose.TransposeBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.transpose.transpose">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.transpose.</span></span><span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/transpose.html#transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.transpose.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose (permute) axes of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>axes</strong> (<em>list</em>) – List of integers or strings indicating order of output axes.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">any</span> <span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span> <span class="ow">or</span> <span class="n">CUDA</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="n">axes</span><span class="p">[</span><span class="o">...</span><span class="p">]],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">same</span> <span class="k">as</span> <span class="nb">input</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">same</span> <span class="k">as</span> <span class="nb">input</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.transpose.TransposeBlock" title="bifrost.blocks.transpose.TransposeBlock">TransposeBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.unpack">
<span id="bifrost-blocks-unpack-module"></span><h2><span class="section-number">10.22. </span>bifrost.blocks.unpack module<a class="headerlink" href="#module-bifrost.blocks.unpack" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.unpack.UnpackBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.unpack.</span></span><span class="sig-name descname"><span class="pre">UnpackBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align_msb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/unpack.html#UnpackBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.unpack.UnpackBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.TransformBlock" title="bifrost.pipeline.TransformBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.unpack.UnpackBlock.define_valid_input_spaces">
<span class="sig-name descname"><span class="pre">define_valid_input_spaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/unpack.html#UnpackBlock.define_valid_input_spaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.unpack.UnpackBlock.define_valid_input_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of valid spaces (or ‘any’) for each input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.unpack.UnpackBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/unpack.html#UnpackBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.unpack.UnpackBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of output frames to commit, or None to commit all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.unpack.UnpackBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/unpack.html#UnpackBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.unpack.UnpackBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return oheader</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.unpack.unpack">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.unpack.</span></span><span class="sig-name descname"><span class="pre">unpack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/unpack.html#unpack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.unpack.unpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack data to a larger data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>dtype</strong> – Output data type.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span>  <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">one</span> <span class="n">of</span><span class="p">:</span> <span class="n">i</span><span class="o">/</span><span class="n">u2</span><span class="p">,</span> <span class="n">i</span><span class="o">/</span><span class="n">u4</span><span class="p">,</span> <span class="n">ci2</span><span class="p">,</span> <span class="n">ci4</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">i8</span> <span class="ow">or</span> <span class="n">ci8</span> <span class="p">(</span><span class="n">matching</span> <span class="nb">input</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.unpack.UnpackBlock" title="bifrost.blocks.unpack.UnpackBlock">UnpackBlock</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bifrost.blocks.wav">
<span id="bifrost-blocks-wav-module"></span><h2><span class="section-number">10.23. </span>bifrost.blocks.wav module<a class="headerlink" href="#module-bifrost.blocks.wav" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSinkBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">WavSinkBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSinkBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSinkBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SinkBlock" title="bifrost.pipeline.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SinkBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSinkBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ispan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSinkBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSinkBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSinkBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSinkBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSinkBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return islice or None to use simple striding</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSinkBlock.on_sequence_end">
<span class="sig-name descname"><span class="pre">on_sequence_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iseq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSinkBlock.on_sequence_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSinkBlock.on_sequence_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Do any necessary cleanup</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSourceBlock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">WavSourceBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSourceBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSourceBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bifrost.html#bifrost.pipeline.SourceBlock" title="bifrost.pipeline.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSourceBlock.create_reader">
<span class="sig-name descname"><span class="pre">create_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSourceBlock.create_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSourceBlock.create_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object to use for reading source data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSourceBlock.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ospans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSourceBlock.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSourceBlock.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process data from from ispans to ospans and return the number of
frames to commit for each output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bifrost.blocks.wav.WavSourceBlock.on_sequence">
<span class="sig-name descname"><span class="pre">on_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#WavSourceBlock.on_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.WavSourceBlock.on_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return header for each output</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.read_wav">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">read_wav</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gulp_nframe</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#read_wav"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.read_wav" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Wave files (.wav).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourcefiles</strong> (<em>list</em>) – List of input filenames.</p></li>
<li><p><strong>gulp_nframe</strong> (<em>int</em>) – No. frames to read at a time.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.SourceBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Output</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;pol&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">u8</span> <span class="ow">or</span> <span class="n">i</span><span class="o">*</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.wav.WavSourceBlock" title="bifrost.blocks.wav.WavSourceBlock">WavSourceBlock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.wav_read_chunk_desc">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">wav_read_chunk_desc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#wav_read_chunk_desc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.wav_read_chunk_desc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.wav_read_header">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">wav_read_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#wav_read_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.wav_read_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.wav_read_subchunk_desc">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">wav_read_subchunk_desc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#wav_read_subchunk_desc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.wav_read_subchunk_desc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.wav_read_subchunk_fmt">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">wav_read_subchunk_fmt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#wav_read_subchunk_fmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.wav_read_subchunk_fmt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.wav_write_header">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">wav_write_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#wav_write_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.wav_write_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bifrost.blocks.wav.write_wav">
<span class="sig-prename descclassname"><span class="pre">bifrost.blocks.wav.</span></span><span class="sig-name descname"><span class="pre">write_wav</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="modules/bifrost/blocks/wav.html#write_wav"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bifrost.blocks.wav.write_wav" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data as Wave files (.wav).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iring</strong> (<a class="reference internal" href="bifrost.html#bifrost.ring.Ring" title="bifrost.ring.Ring"><em>Ring</em></a><em> or </em><a class="reference internal" href="bifrost.html#bifrost.pipeline.Block" title="bifrost.pipeline.Block"><em>Block</em></a>) – Input data source.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path specifying where to write output files.</p></li>
<li><p><strong>*args</strong> – Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword Arguments to <code class="docutils literal notranslate"><span class="pre">bifrost.pipeline.TransformBlock</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Tensor semantics</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Input</span><span class="p">:</span> <span class="p">[</span><span class="n">time</span><span class="p">,</span> <span class="n">pol</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">u8</span> <span class="ow">or</span> <span class="n">i</span><span class="o">*</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Wave</span> <span class="n">file</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">sequence</span>

<span class="n">Input</span><span class="p">:</span> <span class="p">[</span><span class="n">batch</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">pol</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">u8</span> <span class="ow">or</span> <span class="n">i</span><span class="o">*</span><span class="p">,</span> <span class="n">space</span> <span class="o">=</span> <span class="n">SYSTEM</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">Wave</span> <span class="n">file</span><span class="p">,</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">batch</span> <span class="n">element</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new block instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#bifrost.blocks.wav.WavSinkBlock" title="bifrost.blocks.wav.WavSinkBlock">WavSinkBlock</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The chunk_size and data_size entries in the output wav header are
written as zero values because they are not known a-priori in a
streaming setting. VLC still plays the files just fine, but any
subchunks that appear after the data will be misinterpreted as data.</p>
</div>
</dd></dl>

</section>
<section id="module-bifrost.blocks">
<span id="module-contents"></span><h2><span class="section-number">10.24. </span>Module contents<a class="headerlink" href="#module-bifrost.blocks" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">bifrost</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction to Bifrost</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting-started-guide.html">2. Getting started guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Create-a-pipeline.html">3. Create a Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="your-first-blocks.html">4. Your first blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">5. Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools-intro.html">6. Monitoring Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="bfmap.html">7. Fast GPU math using bfMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="How-Python-and-C---fits-together.html">8. How bifrost fits together</a></li>
<li class="toctree-l1"><a class="reference internal" href="Common-installation-and-execution-problems.html">9. Common Installation and Execution Problems</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">10. Block Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">10.1. Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.accumulate">10.2. bifrost.blocks.accumulate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bifrost-blocks-audio-module">10.3. bifrost.blocks.audio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.binary_io">10.4. bifrost.blocks.binary_io module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.convert_visibilities">10.5. bifrost.blocks.convert_visibilities module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.copy">10.6. bifrost.blocks.copy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.correlate">10.7. bifrost.blocks.correlate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.detect">10.8. bifrost.blocks.detect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.fdmt">10.9. bifrost.blocks.fdmt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.fft">10.10. bifrost.blocks.fft module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.fftshift">10.11. bifrost.blocks.fftshift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.guppi_raw">10.12. bifrost.blocks.guppi_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.print_header">10.13. bifrost.blocks.print_header module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bifrost-blocks-psrdada-module">10.14. bifrost.blocks.psrdada module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.quantize">10.15. bifrost.blocks.quantize module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.reduce">10.16. bifrost.blocks.reduce module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.reverse">10.17. bifrost.blocks.reverse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.scrunch">10.18. bifrost.blocks.scrunch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.serialize">10.19. bifrost.blocks.serialize module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.sigproc">10.20. bifrost.blocks.sigproc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.transpose">10.21. bifrost.blocks.transpose module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.unpack">10.22. bifrost.blocks.unpack module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks.wav">10.23. bifrost.blocks.wav module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bifrost.blocks">10.24. Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bifrost.html">11. Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cpp-Development.html">12. C++ Developement</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp_reference.html">13. C++ Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Common-installation-and-execution-problems.html" title="previous chapter"><span class="section-number">9. </span>Common Installation and Execution Problems</a></li>
      <li>Next: <a href="bifrost.html" title="next chapter"><span class="section-number">11. </span>Python Reference</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;1980, ledatelescope.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="sources/bifrost.blocks.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>